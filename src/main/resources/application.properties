# YakRooms Application Configuration
# This file contains common settings shared across all profiles
# Profile-specific configurations are in:
# - application-development.properties (for local development)
# - application-production.properties (for production deployment)

spring.application.name=yakrooms

# Default server configuration
server.port=8080

# ================== DEFAULT PROFILE CONFIGURATION ==================
# Default profile - uses development settings when no profile is specified
# Note: Railway will override this with production profile via environment variables
spring.profiles.active=development

# Default database configuration (development)
spring.datasource.url=jdbc:mysql://${MYSQLHOST:localhost}:${MYSQLPORT:3306}/${MYSQLDATABASE:yakrooms}
spring.datasource.username=${MYSQLUSER:root}
spring.datasource.password=${MYSQLPASSWORD:ChogyalWp}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Default JPA configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# Default Redis configuration (optional for development)
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.database=${REDIS_DATABASE:0}

# Default cache configuration
spring.cache.type=${CACHE_TYPE:redis}
spring.cache.redis.time-to-live=60000
spring.cache.redis.key-prefix=yakrooms:dev:

# Default logging configuration
logging.level.com.yakrooms.be=INFO
logging.level.org.springframework.cache=INFO
logging.level.org.springframework.data.redis=INFO

# Default actuator configuration
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# ================== COMMON JACKSON JSON ==================
# JSON serialization settings (same for all profiles)
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false
spring.jackson.mapper.require-handlers-for-java8-times=false
spring.jackson.time-zone=UTC

# ================== COMMON BOOKING VALIDATION ==================
# Business rules (same for all profiles)
booking.max-advance-days=365
booking.min-stay-days=1
booking.max-stay-days=30

# ================== COMMON UPLOADTHING CONFIGURATION ==================
# UploadThing API settings (same for all profiles)
uploadthing.api.base-url=https://api.uploadthing.com/v5
uploadthing.api.app-id=g5h92ke5c1
uploadthing.api.timeout=30s
uploadthing.api.retry.max-attempts=3
uploadthing.api.retry.backoff-delay=1s

# ================== PROFILE-SPECIFIC CONFIGURATIONS ==================
# The following configurations are profile-specific and should be defined in:
# 
# application-development.properties:
# - Database connection (localhost)
# - Redis configuration (optional)
# - Logging levels (DEBUG)
# - JPA settings (show-sql=true, ddl-auto=update)
# - Email settings (hardcoded for development)
# - Actuator endpoints (more permissive)
# - Security settings (more permissive)
# - Performance settings (development-optimized)
#
# application-production.properties:
# - Database connection (environment variables)
# - Redis configuration (required)
# - Logging levels (INFO/WARN)
# - JPA settings (show-sql=false, ddl-auto=none)
# - Email settings (environment variables)
# - Actuator endpoints (restricted)
# - Security settings (production-optimized)
# - Performance settings (production-optimized)
# - Firebase configuration (Base64 encoded credentials)
